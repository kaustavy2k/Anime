(this.webpackJsonpanime=this.webpackJsonpanime||[]).push([[3],{133:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&c.return&&c.return()}finally{if(r)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(0),i=s(r),o=s(a(27)),c=s(a(134)),l=s(a(135));function s(e){return e&&e.__esModule?e:{default:e}}var u={overflow:"hidden",position:"relative"};function d(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function f(e){var t=(0,r.useState)(""),a=n(t,2),o=a[0],s=a[1],f=(0,r.useState)(0),h=n(f,2),v=h[0],b=h[1],j=(0,r.useState)([]),O=n(j,2),g=O[0],p=O[1],S=(0,r.useState)(!1),_=n(S,2),m=_[0],y=_[1],E=(0,c.default)(e),x=n(E,2),C=x[0],T=x[1],A=(0,r.useState)(0),I=n(A,2),R=I[0],P=I[1],w=(0,r.useState)(!1),H=n(w,2),D=H[0],N=H[1],L=(0,r.useState)(""),M=n(L,2),U=M[0],K=M[1];function W(e){"undefined"===typeof e&&(e=C.isHalf?Math.floor(v):Math.round(v));for(var t=[],a=0;a<C.count;a++)t.push({active:a<=e-1});return t}function k(e){if(C.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(C.isHalf){var a=z(e);N(a),a&&(t+=1),P(t)}else t+=1;!function(e){var t=g.filter((function(e){return e.active}));e!==t.length&&p(W(e))}(t)}}function z(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;return(a=Math.round(Math.abs(a)))>t.width/2}function F(){C.edit&&(B(v),p(W()))}function B(e){C.isHalf&&(N(function(e){return e%1===0}(e)),P(Math.floor(e)))}function V(e){if(C.edit){var t=Number(e.currentTarget.getAttribute("data-index")),a=void 0;if(C.isHalf){var n=z(e);N(n),n&&(t+=1),a=n?t:t+.5,P(t)}else a=t+=1;J(a)}}function J(t){t!==v&&(p(W(t)),b(t),e.onChange(t))}return(0,r.useEffect)((function(){var t,a;!function(){var t="react-stars";K(e.classNames+" "+t)}(),t=e.value,a=e.count,b(t<0||t>a?0:t),p(W(e.value)),T(e),s((Math.random()+"").replace(".","")),y(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),P(Math.floor(e.value)),N(e.isHalf&&e.value%1<.5)}),[]),i.default.createElement("div",{className:"react-stars-wrapper-"+o,style:{display:"flex"}},i.default.createElement("div",{tabIndex:C.a11y&&C.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(C.a11y||C.edit){var t=e.key,a=v,n=Number(t);n?Number.isInteger(n)&&n>0&&n<=C.count&&(a=n):("ArrowUp"===t||"ArrowRight"===t)&&a<C.count?(e.preventDefault(),a+=C.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&a>.5&&(e.preventDefault(),a-=C.isHalf?.5:1),B(a),J(a)}},className:U,style:u},C.isHalf&&function(){return i.default.createElement("style",{dangerouslySetInnerHTML:{__html:m?(e=C.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):d(C.activeColor,o)}});var e}(),g.map((function(e,t){return i.default.createElement(l.default,{key:t,index:t,active:e.active,config:C,onMouseOver:k,onMouseLeave:F,onClick:V,halfStarHidden:D,halfStarAt:R,isUsingIcons:m,uniqueness:o})})),i.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},v)))}f.propTypes={classNames:o.default.string,edit:o.default.bool,half:o.default.bool,value:o.default.number,count:o.default.number,char:o.default.string,size:o.default.number,color:o.default.string,activeColor:o.default.string,emptyIcon:o.default.element,halfIcon:o.default.element,filledIcon:o.default.element,a11y:o.default.bool},f.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.default=f},134:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&c.return&&c.return()}finally{if(r)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,r.useState)(e.count),a=n(t,2),i=a[0],o=a[1],c=(0,r.useState)(e.size),l=n(c,2),s=l[0],u=l[1],d=(0,r.useState)(e.char),f=n(d,2),h=f[0],v=f[1],b=(0,r.useState)(e.color),j=n(b,2),O=j[0],g=j[1],p=(0,r.useState)(e.activeColor),S=n(p,2),_=S[0],m=S[1],y=(0,r.useState)(e.isHalf),E=n(y,2),x=E[0],C=E[1],T=(0,r.useState)(e.edit),A=n(T,2),I=A[0],R=A[1],P=(0,r.useState)(e.emptyIcon),w=n(P,2),H=w[0],D=w[1],N=(0,r.useState)(e.halfIcon),L=n(N,2),M=L[0],U=L[1],K=(0,r.useState)(e.filledIcon),W=n(K,2),k=W[0],z=W[1],F=(0,r.useState)(e.a11y),B=n(F,2),V=B[0],J=B[1];return[{count:i,size:s,char:h,color:O,activeColor:_,isHalf:x,edit:I,emptyIcon:H,halfIcon:M,filledIcon:k,a11y:V},function(e){o(e.count),u(e.size),v(e.char),g(e.color),m(e.activeColor),C(e.isHalf),R(e.edit),D(e.emptyIcon),U(e.halfIcon),z(e.filledIcon),J(e.a11y)}]};var r=a(0)},135:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.index,a=e.active,r=e.config,i=e.onMouseOver,l=e.onMouseLeave,s=e.onClick,u=e.halfStarHidden,d=e.halfStarAt,f=e.isUsingIcons,h=e.uniqueness,v=r.color,b=r.activeColor,j=r.size,O=r.char,g=r.isHalf,p=r.edit,S=r.halfIcon,_=r.emptyIcon,m=r.filledIcon,y="",E=!1;g&&!u&&d===t&&(y=f?"react-stars-half":"react-stars-"+h,E=!0);var x=n({},c,{color:a?b:v,cursor:p?"pointer":"default",fontSize:j+"px"});return o.default.createElement("span",{className:y,style:x,key:t,"data-index":t,"data-forhalf":m?t:O,onMouseOver:i,onMouseMove:i,onMouseLeave:l,onClick:s},f?a?m:!a&&E?S:_:O)};var r,i=a(0),o=(r=i)&&r.__esModule?r:{default:r};var c={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(28),i=a.n(r),o=a(132),c=a(131),l=a(79),s=a(0),u=a(5),d=a(32),f=a.n(d),h=a(133),v=a.n(h),b=a(129),j=(a(136),a(1));t.default=function(e){var t=Object(u.h)(),a=Object(s.useState)({}),r=Object(n.a)(a,2),d=r[0],h=r[1],O=Object(s.useState)(""),g=Object(n.a)(O,2),p=g[0],S=g[1],_=Object(s.useState)(""),m=Object(n.a)(_,2),y=m[0],E=m[1],x=Object(s.useState)(""),C=Object(n.a)(x,2),T=C[0],A=C[1],I=Object(s.useState)(!1),R=Object(n.a)(I,2),P=R[0],w=R[1],H=Object(s.useState)([]),D=Object(n.a)(H,2),N=D[0],L=D[1];Object(s.useEffect)((function(){var e,a,n;w(!0),i.a.get("https://api.aniapi.com/v1/anime/".concat(t.id)).then((function(e){return h(e.data.data),i.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/get-rating/").concat(t.id),{withCredentials:!0})})).then((function(r){return e=r.data.rating[0].description,a=r.data.rating[0].rating,n=r.data.rating[0].Avgrating,i.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/all-ratings/").concat(t.id),{withCredentials:!0})})).then((function(t){L(t.data.rating),A(e),S(a),E(n),w(!1)})).catch((function(e){w(!1)}))}),[]);var M=function(){if(N.length>1){var e=0,t=0;return N.map((function(a){console.log(a.email),console.log(JSON.parse(localStorage.getItem("isAuthenticated")).email),a.email!=JSON.parse(localStorage.getItem("isAuthenticated")).email&&(e+=a.rating),t+=1})),console.log("sum",e,t),e+=p,console.log("sum",e,t),e/t}return p};return Object(j.jsx)(f.a,{active:P,spinner:Object(j.jsx)(b.a,{animation:"grow",variant:"primary",size:"lg"}),children:Object(j.jsx)("div",{className:"App",children:d.id?Object(j.jsxs)(o.a,{style:{width:"100%",height:"100%"},children:[Object(j.jsx)(o.a.Img,{variant:"top",style:{width:"20%",margin:"auto"},src:d.cover_image}),Object(j.jsxs)(o.a.Body,{children:[Object(j.jsx)(o.a.Title,{children:Object(j.jsxs)("b",{children:[d.titles.en," / ",d.titles.jp]})}),Object(j.jsx)(o.a.Text,{children:d.descriptions.en.replace(/(<([^>]+)>)/gi,"")})]}),Object(j.jsxs)(c.a,{className:"list-group-flush",children:[Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"End Date- "}),d.end_date]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Start Date- "}),d.start_date]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Episode Duration- "}),d.episode_duration]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Episodes Count- "}),d.episodes_count]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Genres- "}),d.genres.join(", ")]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Score- "}),d.score]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Season Period- "}),d.season_period]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Season Year- "}),d.season_year]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Overall Avg Rating- "}),y]})]}),Object(j.jsx)(o.a.Body,{children:d.trailer_url?Object(j.jsxs)(o.a.Link,{href:"".concat(d.trailer_url),children:["Trailer- ",d.trailer_url]}):""}),Object(j.jsxs)("div",{className:"reviews",children:[Object(j.jsx)("h5",{children:"All Reviews"}),N.map((function(e,t){return Object(j.jsxs)("div",{children:["User Email- ",e.email,", Rating- ",e.rating,", Description-",e.description]},t)}))]}),Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsxs)("h4",{children:["Give Your Review (Your Current Rating- ",p,")"]}),Object(j.jsx)(v.a,{isHalf:!0,count:5,onChange:function(e){S(e)},size:44,activeColor:"#ffd700"}),Object(j.jsx)("textarea",{name:"content",autoComplete:"off",onChange:function(e){A(e.target.value)},className:"form-control",placeholder:"Enter comment",type:"text",style:{width:"100%"},value:T}),Object(j.jsx)("button",{className:"btn btn-success mt-3",onClick:function(){var e={description:T,rating:p,Avgrating:M()};w(!0),i.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/give-rating/").concat(t.id),e,{withCredentials:!0}).then((function(e){return i.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/get-rating/").concat(t.id),{withCredentials:!0})})).then((function(e){return E(e.data.rating[0].Avgrating),A(e.data.rating[0].description),S(e.data.rating[0].rating),i.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/all-ratings/").concat(t.id),{withCredentials:!0})})).then((function(e){L(e.data.rating),w(!1)})).catch((function(e){w(!1)}))},children:"Submit"})]})]}):""})})}}}]);
//# sourceMappingURL=3.5e15713b.chunk.js.map