(this.webpackJsonpanime=this.webpackJsonpanime||[]).push([[3],{133:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(0),i=s(r),c=s(a(27)),o=s(a(134)),l=s(a(135));function s(e){return e&&e.__esModule?e:{default:e}}var u={overflow:"hidden",position:"relative"};function d(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function f(e){var t=(0,r.useState)(""),a=n(t,2),c=a[0],s=a[1],f=(0,r.useState)(0),h=n(f,2),b=h[0],v=h[1],j=(0,r.useState)([]),p=n(j,2),g=p[0],m=p[1],O=(0,r.useState)(!1),y=n(O,2),x=y[0],S=y[1],w=(0,o.default)(e),I=n(w,2),C=I[0],_=I[1],M=(0,r.useState)(0),k=n(M,2),H=k[0],A=k[1],E=(0,r.useState)(!1),N=n(E,2),z=N[0],T=N[1],D=(0,r.useState)(""),R=n(D,2),L=R[0],P=R[1];function U(e){"undefined"===typeof e&&(e=C.isHalf?Math.floor(b):Math.round(b));for(var t=[],a=0;a<C.count;a++)t.push({active:a<=e-1});return t}function B(e){if(C.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(C.isHalf){var a=J(e);T(a),a&&(t+=1),A(t)}else t+=1;!function(e){var t=g.filter((function(e){return e.active}));e!==t.length&&m(U(e))}(t)}}function J(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;return(a=Math.round(Math.abs(a)))>t.width/2}function Y(){C.edit&&(q(b),m(U()))}function q(e){C.isHalf&&(T(function(e){return e%1===0}(e)),A(Math.floor(e)))}function G(e){if(C.edit){var t=Number(e.currentTarget.getAttribute("data-index")),a=void 0;if(C.isHalf){var n=J(e);T(n),n&&(t+=1),a=n?t:t+.5,A(t)}else a=t+=1;K(a)}}function K(t){t!==b&&(m(U(t)),v(t),e.onChange(t))}return(0,r.useEffect)((function(){var t,a;!function(){var t="react-stars";P(e.classNames+" "+t)}(),t=e.value,a=e.count,v(t<0||t>a?0:t),m(U(e.value)),_(e),s((Math.random()+"").replace(".","")),S(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),A(Math.floor(e.value)),T(e.isHalf&&e.value%1<.5)}),[]),i.default.createElement("div",{className:"react-stars-wrapper-"+c,style:{display:"flex"}},i.default.createElement("div",{tabIndex:C.a11y&&C.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(C.a11y||C.edit){var t=e.key,a=b,n=Number(t);n?Number.isInteger(n)&&n>0&&n<=C.count&&(a=n):("ArrowUp"===t||"ArrowRight"===t)&&a<C.count?(e.preventDefault(),a+=C.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&a>.5&&(e.preventDefault(),a-=C.isHalf?.5:1),q(a),K(a)}},className:L,style:u},C.isHalf&&function(){return i.default.createElement("style",{dangerouslySetInnerHTML:{__html:x?(e=C.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):d(C.activeColor,c)}});var e}(),g.map((function(e,t){return i.default.createElement(l.default,{key:t,index:t,active:e.active,config:C,onMouseOver:B,onMouseLeave:Y,onClick:G,halfStarHidden:z,halfStarAt:H,isUsingIcons:x,uniqueness:c})})),i.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},b)))}f.propTypes={classNames:c.default.string,edit:c.default.bool,half:c.default.bool,value:c.default.number,count:c.default.number,char:c.default.string,size:c.default.number,color:c.default.string,activeColor:c.default.string,emptyIcon:c.default.element,halfIcon:c.default.element,filledIcon:c.default.element,a11y:c.default.bool},f.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.default=f},134:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,r.useState)(e.count),a=n(t,2),i=a[0],c=a[1],o=(0,r.useState)(e.size),l=n(o,2),s=l[0],u=l[1],d=(0,r.useState)(e.char),f=n(d,2),h=f[0],b=f[1],v=(0,r.useState)(e.color),j=n(v,2),p=j[0],g=j[1],m=(0,r.useState)(e.activeColor),O=n(m,2),y=O[0],x=O[1],S=(0,r.useState)(e.isHalf),w=n(S,2),I=w[0],C=w[1],_=(0,r.useState)(e.edit),M=n(_,2),k=M[0],H=M[1],A=(0,r.useState)(e.emptyIcon),E=n(A,2),N=E[0],z=E[1],T=(0,r.useState)(e.halfIcon),D=n(T,2),R=D[0],L=D[1],P=(0,r.useState)(e.filledIcon),U=n(P,2),B=U[0],J=U[1],Y=(0,r.useState)(e.a11y),q=n(Y,2),G=q[0],K=q[1];return[{count:i,size:s,char:h,color:p,activeColor:y,isHalf:I,edit:k,emptyIcon:N,halfIcon:R,filledIcon:B,a11y:G},function(e){c(e.count),u(e.size),b(e.char),g(e.color),x(e.activeColor),C(e.isHalf),H(e.edit),z(e.emptyIcon),L(e.halfIcon),J(e.filledIcon),K(e.a11y)}]};var r=a(0)},135:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.index,a=e.active,r=e.config,i=e.onMouseOver,l=e.onMouseLeave,s=e.onClick,u=e.halfStarHidden,d=e.halfStarAt,f=e.isUsingIcons,h=e.uniqueness,b=r.color,v=r.activeColor,j=r.size,p=r.char,g=r.isHalf,m=r.edit,O=r.halfIcon,y=r.emptyIcon,x=r.filledIcon,S="",w=!1;g&&!u&&d===t&&(S=f?"react-stars-half":"react-stars-"+h,w=!0);var I=n({},o,{color:a?v:b,cursor:m?"pointer":"default",fontSize:j+"px"});return c.default.createElement("span",{className:S,style:I,key:t,"data-index":t,"data-forhalf":x?t:p,onMouseOver:i,onMouseMove:i,onMouseLeave:l,onClick:s},f?a?x:!a&&w?O:y:p)};var r,i=a(0),c=(r=i)&&r.__esModule?r:{default:r};var o={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(28),i=a.n(r),c=a(132),o=a(131),l=a(79),s=a(0),u=a(5),d=a(32),f=a.n(d),h=a(133),b=a.n(h),v=a(129),j=(a(136),a(1));t.default=function(e){var t=Object(u.h)(),a=Object(s.useState)({}),r=Object(n.a)(a,2),d=r[0],h=r[1],p=Object(s.useState)(""),g=Object(n.a)(p,2),m=g[0],O=g[1],y=Object(s.useState)(null),x=Object(n.a)(y,2),S=x[0],w=x[1],I=Object(s.useState)(""),C=Object(n.a)(I,2),_=C[0],M=C[1],k=Object(s.useState)(!1),H=Object(n.a)(k,2),A=H[0],E=H[1],N=Object(s.useState)([]),z=Object(n.a)(N,2),T=z[0],D=z[1];Object(s.useEffect)((function(){E(!0),i.a.get("https://api.aniapi.com/v1/anime/".concat(t.id)).then((function(e){return h(e.data.data),i.a.get("".concat("https://radiant-refuge-11101.herokuapp.com","/get-rating/").concat(t.id),{withCredentials:!0})})).then((function(e){return e.data.rating.length&&(M(e.data.rating[0].description),O(e.data.rating[0].rating)),w(e.data.avg),i.a.get("".concat("https://radiant-refuge-11101.herokuapp.com","/all-ratings/").concat(t.id),{withCredentials:!0})})).then((function(e){D(e.data.rating),E(!1)})).catch((function(e){E(!1)}))}),[]);var R=function(){if(T.length){var e=0,t=0;return T.forEach((function(a){a.email!=JSON.parse(localStorage.getItem("isAuthenticated")).email&&(e+=a.rating,t+=1)})),(e+=m)/(t+1)}return m};return Object(j.jsx)(f.a,{active:A,spinner:Object(j.jsx)(v.a,{animation:"grow",variant:"primary",size:"lg"}),children:Object(j.jsx)("div",{className:"App",children:d.id?Object(j.jsxs)(c.a,{style:{width:"100%",height:"100%"},children:[Object(j.jsx)(c.a.Img,{variant:"top",style:{width:"20%",margin:"auto"},src:d.cover_image}),Object(j.jsxs)(c.a.Body,{children:[Object(j.jsx)(c.a.Title,{children:Object(j.jsxs)("b",{children:[d.titles.en," / ",d.titles.jp]})}),Object(j.jsx)(c.a.Text,{children:d.descriptions.en.replace(/(<([^>]+)>)/gi,"")})]}),Object(j.jsxs)(o.a,{className:"list-group-flush",children:[Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"End Date- "}),d.end_date]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Start Date- "}),d.start_date]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Episode Duration- "}),d.episode_duration]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Episodes Count- "}),d.episodes_count]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Genres- "}),d.genres.join(", ")]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Score- "}),d.score]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Season Period- "}),d.season_period]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Season Year- "}),d.season_year]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("b",{children:"Overall Avg Rating- "}),S]})]}),Object(j.jsx)(c.a.Body,{children:d.trailer_url?Object(j.jsxs)(c.a.Link,{href:"".concat(d.trailer_url),children:["Trailer- ",d.trailer_url]}):""}),Object(j.jsxs)("div",{className:"reviews",children:[Object(j.jsx)("h5",{children:"All Reviews"}),T.map((function(e,t){return Object(j.jsxs)("div",{children:["User Email- ",e.email,", Rating- ",e.rating,", Description-",e.description]},t)}))]}),Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsxs)("h4",{children:["Give Your Review (Your Current Rating- ",m,")"]}),Object(j.jsx)(b.a,{isHalf:!0,count:5,onChange:function(e){O(e)},size:44,activeColor:"#ffd700"}),Object(j.jsx)("textarea",{name:"content",autoComplete:"off",onChange:function(e){M(e.target.value)},className:"form-control",placeholder:"Enter comment",type:"text",style:{width:"100%"},value:_}),Object(j.jsx)("button",{className:"btn btn-success mt-3",onClick:function(){var e={description:_,rating:m,Avgrating:R()};E(!0),i.a.post("".concat("https://radiant-refuge-11101.herokuapp.com","/give-rating/").concat(t.id),e,{withCredentials:!0}).then((function(e){return i.a.get("".concat("https://radiant-refuge-11101.herokuapp.com","/get-rating/").concat(t.id),{withCredentials:!0})})).then((function(e){return e.data.rating.length&&(M(e.data.rating[0].description),O(e.data.rating[0].rating)),w(e.data.avg),i.a.get("".concat("https://radiant-refuge-11101.herokuapp.com","/all-ratings/").concat(t.id),{withCredentials:!0})})).then((function(e){D(e.data.rating),E(!1)})).catch((function(e){E(!1)}))},children:"Submit"})]})]}):""})})}}}]);
//# sourceMappingURL=3.04e14b05.chunk.js.map